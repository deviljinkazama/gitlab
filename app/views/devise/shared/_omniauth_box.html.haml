.omniauth-container
  %p
    %span.light
      Sign in with &nbsp;
    - providers = enabled_button_based_providers
    - providers.each do |provider|
      %span.light
        - has_icon = provider_has_icon?(provider)
        = link_to provider_image_tag(provider), omniauth_authorize_path(:user, provider), method: :post, class: 'oauth-login' + (has_icon ? ' oauth-image-link' : ' btn')
    %fieldset
      = check_box_tag :remember_me
      = label_tag :remember_me, "Remember Me"

:javascript
  $("#remember_me").click(function(event){
    var rememberMe = $(event.target).is(":checked");
    $(".oauth-login").each(function(i, element) {
      var href = $(element).attr('href');

      if (rememberMe) {
        $(element).attr('href', href + '?remember_me=1');
      } else {
        $(element).attr('href', href.replace('?remember_me=1', ''));
      }
    });
  });
